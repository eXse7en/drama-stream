<!DOCTYPE html>
<html>
<head>
  <title>Drama China Streaming</title>
  <link rel="stylesheet" href="assets/style.css">
</head>
<body>

<header>Drama China</header>

<div id="list" class="container">
  <div class="loading">Loading drama...</div>
</div>

<script>
async function loadDrama() {
  try {
    const res = await fetch(
      "https://restxdb.onrender.com/drama",
      { cache: "no-store" }
    );
    const data = await res.json();

    const list = document.getElementById("list");
    list.innerHTML = "";

    data.forEach(d => {
      list.innerHTML += `
        <a href="detail.html?id=${d.id}">
          <div class="card">
            <img src="${d.poster}">
            <h3>${d.title}</h3>
          </div>
        </a>`;
    });

  } catch (e) {
    document.getElementById("list").innerHTML =
      "<div class='loading'>Gagal memuat data (API sleep)</div>";
  }
}

loadDrama();
</script>

</body>
</html>
